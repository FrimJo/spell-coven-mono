name = "cloudflare-peerjs-server"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Durable Objects binding
[[durable_objects.bindings]]
name = "GAME_ROOM"
class_name = "GameRoomCoordinator"
script_name = "cloudflare-peerjs-server"

# Durable Object migrations
[[migrations]]
tag = "v1"
new_classes = ["GameRoomCoordinator"]

# Development configuration
[env.development]
name = "cloudflare-peerjs-server-dev"

# Production configuration
[env.production]
name = "cloudflare-peerjs-server"
# Custom domain can be configured here if needed
# routes = [{ pattern = "peerjs.spell-coven.com", zone_name = "spell-coven.com" }]
